<br />
<button nz-button nzType="primary" (click)="ajout()">
    <i nz-icon type="laptop" theme="outline"></i>
    Ajouter
</button>
<nz-drawer [nzBodyStyle]="{ height: 'calc(100% - 55px)', overflow: 'auto',
    'padding-bottom':'53px' }" [nzClosable]="false" [nzOffsetX]="childrenVisible
    ? 180 : 0" [nzWidth]="720" [nzVisible]="visible" nzTitle="Create" (nzOnClose)="close()">

    <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">


        <div nz-row nzGutter="12" class="example-input">
            <div nz-col nzSpan="12">
                <nz-form-item>
                    <nz-form-label [nzSpan]="'vertical'" nzFor="cat" nzRequired>Type demande
                    </nz-form-label>
                    <nz-form-control [nzSpan]="'vertical'">

                        <nz-select id="cat" formControlName="cat" style="width:
                            100%;" name="select-type"  [ngModel]="'PRODUIT'" [(ngModel)]="inputValue">
                            <nz-option nzValue="PROD" nzLabel="PRODUIT"></nz-option>
                            <nz-option nzValue="SERV" nzLabel="SERVICE"></nz-option>
                        </nz-select>

                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>


        <div nz-row nzGutter="12" class="example-input">
            <div nz-col nzSpan="12">
                <nz-form-item>
                    <nz-form-label [nzSpan]="'vertical'" nzFor="nom" nzRequired>
                        <span>
                            Nom
                            <i nz-icon nz-tooltip nzTitle="Le nom SVP."
                                type="question-circle"
                                theme="outline"></i>
                        </span>
                    </nz-form-label>
                    <nz-form-control [nzSpan]="'vertical'">
                        <input nz-input id="nom" formControlName="nom" placeholder="Nom" oninput="this.value=
                            this.value.toUpperCase()">
                        <nz-form-explain *ngIf="validateForm.get('nom').dirty &&
                            validateForm.get('nom').errors">
                            Votre nom SVP
                        </nz-form-explain>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
                <nz-form-item>
                    <nz-form-label [nzSpan]="'vertical'" nzFor="nickname" nzRequired>
                        <span>
                            Description
                            <i nz-icon nz-tooltip nzTitle="La Description SVP"
                                type="question-circle"
                                theme="outline"></i>
                        </span>
                    </nz-form-label>
                    <nz-form-control [nzSpan]="'vertical'">
                        <input nz-input id="description" formControlName="description" placeholder="Description">
                        <nz-form-explain *ngIf="validateForm.get('description').dirty &&
                            validateForm.get('description').errors">
                            Votre Description SVP
                        </nz-form-explain>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>


        <div nz-row nzGutter="12" class="example-input">
            <div nz-col nzSpan="12">
                <nz-form-item>
                    <nz-form-label [nzSpan]="'vertical'" nzFor="prix" nzRequired>
                        <span>
                            Prix
                            <i nz-icon nz-tooltip nzTitle="Le Prix SVP"
                                type="question-circle"
                                theme="outline"></i>
                        </span>
                    </nz-form-label>
                    <nz-form-control [nzSpan]="'vertical'">
                        <input nz-input id="prix" formControlName="prix" placeholder="Prix">
                        <nz-form-explain *ngIf="validateForm.get('prix').dirty
                            && validateForm.get('prix').errors">
                            Le prix SVP
                        </nz-form-explain>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
                <nz-form-item>
                    <nz-form-label [nzSpan]="'vertical'" nzFor="tBCCV" nzRequired>Taux BCCV</nz-form-label>
                    <nz-form-control [nzSpan]="'vertical'">
                        <nz-input-number style="width: 320px;" formControlName="tBCCV" [nzMin]="15" [nzStep]="0.1" [nzMax]="100" placeholder="Teaux BCCV"></nz-input-number>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>
        <div nz-row nzGutter="12" class="example-input" *ngIf="validateForm.get('cat').value == 'PRODUIT'">
            <div nz-col nzSpan="12">
                <!--  *ngIf="!edit1" *ngIf="isproduit"  ajou && -->
                <nz-form-item>
                    <nz-form-label [nzSpan]="'vertical'" nzFor="stock" nzRequired>
                        <span>
                            Stock
                            <i nz-icon nz-tooltip nzTitle="Le Stock
                                SVP"
                                type="question-circle"
                                theme="outline"></i>
                        </span>
                    </nz-form-label>
                    <nz-form-control [nzSpan]="'vertical'">
                        <input nz-input id="stock" type="number" min="0" formControlName="stock" placeholder="Stock">
                        <nz-form-explain *ngIf="validateForm.get('stock').dirty
                            &&
                            validateForm.get('stock').errors">
                            Le stock SVP
                        </nz-form-explain>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
                <!--  *ngIf="!edit1" *ngIf="isproduit()" -->
                <nz-form-item>
                    <nz-form-label [nzSpan]="'vertical'" nzFor="stockAlert" nzRequired>
                        <span>
                            Stock Alert
                            <i nz-icon nz-tooltip nzTitle="Le Stock
                                Alert"
                                type="question-circle"
                                theme="outline"></i>
                        </span>
                    </nz-form-label>
                    <nz-form-control [nzSpan]="'vertical'">
                        <input nz-input id="stockAlert" min="0" type="number" formControlName="stockAlert" placeholder="Stock
                            Alert">
                        <nz-form-explain *ngIf="validateForm.get('stockAlert').dirty
                            &&
                            validateForm.get('stockAlert').errors">
                            Le Stock Alert SVP
                        </nz-form-explain>
                    </nz-form-control>
                </nz-form-item>
            </div>

        </div>

        <!-- <div nz-row nzGutter="12" class="example-input"> -->
        <div nz-col nzSpan="12">
            <nz-form-item>
                <nz-form-label [nzSpan]="'vertical'" nzFor="file" nzRequired>Photo</nz-form-label>
                <nz-form-control [nzSpan]="'vertical'">

                    <input nz-input nzSize="small" type="file" #Image name="file" id="file" accept=".jpg, .jpeg,
                        .png" (change)="onSelectFile($event)">
                    <p>
                        <p>
                            <img [src]="imageUrl" style="width:200px;height:200px">
                </nz-form-control>
            </nz-form-item>
        </div>

        <!-- </div> -->



        <div class="footer">
            <div nz-row nzGutter="12" class="example-input">
                <div nz-col nzSpan="6">

                    <nz-form-item nz-row style="margin-bottom:8px;">
                        <nz-form-control [nzSpan]="14" [nzOffset]="6">
                            <button nz-button nzType="primary">
                                        <i nz-icon type="diff"></i>
                                        <span>Valider</span></button>
                        </nz-form-control>
                    </nz-form-item>

                </div>
                <div nz-col nzSpan="6">

                    <nz-form-item nz-row style="margin-bottom:8px;">
                        <nz-form-control [nzSpan]="14" [nzOffset]="6">
                            <button type="button" (click)="resetDemande()" class="ant-btn
                                        ant-btn-primary" style="margin-right:
                                        8px;" ant-btn-primary>
                                        <i nz-icon type="retweet"
                                            theme="outline"></i>
                                        <span>Annuler</span></button>
                        </nz-form-control>
                    </nz-form-item>

                </div>
                <div nz-col nzSpan="8">


                    <nz-form-item nz-row style="margin-bottom:8px;">
                        <nz-form-control [nzSpan]="14" [nzOffset]="6">
                            <button type="button" (click)="close()" class="ant-btn ant-btn-primary">
                                        <i nz-icon type="logout"></i>
                                        <span>Retour</span></button>
                        </nz-form-control>
                    </nz-form-item>

                </div>
            </div>
        </div>

    </form>
</nz-drawer>


<nz-card style="width: 100%;">
    <nz-card-tab>
        <nz-tabset [(nzSelectedIndex)]="selectedIndex" (nzSelectChange)="log(selectedIndex)">
            <nz-tab nzTitle="Mes produits"></nz-tab>
            <nz-tab nzTitle="Mes services"></nz-tab>
            <nz-tab nzTitle="Liste demandes acceptées"></nz-tab>
            <nz-tab nzTitle="Liste demandes rejetées"></nz-tab>
            <nz-tab nzTitle="Liste demandes publications"></nz-tab>
        </nz-tabset>
    </nz-card-tab>
    <!-- content{{ selectedIndex }} -->
    <div style="background: hsl(0, 0%, 93%);padding:30px;" *ngIf="selectedIndex==0">
        <div class="col-md-6">
            <nz-input-group nzSearch nzSize="small" [nzAddOnAfter]="suffixButton">
                <input type="text" [(ngModel)]="motCle" nz-input placeholder="input search text" />
            </nz-input-group>
            <ng-template #suffixButton>
                <button nz-button nzType="primary" nzSize="small" (click)="rechercher()" nzSearch>Search</button>
            </ng-template>
        </div>
        <br>
        <nz-list [nzDataSource]="publicationAccepterList" [nzItemLayout]="'vertical'" [nzRenderItem]="item" [nzPagination]="pagination"  [nzGrid]="{
                    gutter: 16, xs: 24, sm: 12, md: 8,
                    lg: 8, xl: 6, span: 8 }" nzScroll="{ y: '240px' }">
            <ng-template #item let-item>
                <nz-card [nzCover]="coverTemplate" [nzActions]="[actionMonney,
                            actionEdit, actionShopping]">
                    <nz-card-meta [nzTitle]="item.nom" [nzDescription]="item.description" [nzAvatar]="avatarTemplate">
                    </nz-card-meta>
                </nz-card>
                <ng-template #avatarTemplate>
                    <nz-avatar nzSrc="http://localhost:8080/files/{{item.photo}}"></nz-avatar>
                </ng-template>
                <ng-template #coverTemplate>
                    <img height="200" alt="item.nom" src="http://localhost:8080/files/{{item.photo}}" />
                </ng-template>
                <ng-template #actionMonney>
                    <i nz-icon type="money-collect"></i>
                </ng-template>
                <ng-template #actionEdit>
                    <i nz-icon type="edit"></i>
                </ng-template>
                <ng-template #actionShopping>
                    <a><i nz-icon type="shopping-cart"></i></a>
                </ng-template>
                <br />
            </ng-template>
            <ng-template #pagination>
                <nz-pagination [nzPageIndex]="1" [nzTotal]="pages" [nzPageSize]="pageSize" (nzPageIndexChange)="gotoLoadDataAccepterPublication($event)"></nz-pagination>
            </ng-template>
        </nz-list>


    </div>
    <div style="background: hsl(0, 0%, 93%);padding:30px;" *ngIf="selectedIndex==1">
        <div class="col-md-6">
            <nz-input-group nzSearch nzSize="small" [nzAddOnAfter]="suffixButton">
                <input type="text" [(ngModel)]="motCle" nz-input placeholder="input search text" />
            </nz-input-group>
            <ng-template #suffixButton>
                <button nz-button nzType="primary" nzSize="small" (click)="rechercher()" nzSearch>Search</button>
            </ng-template>
        </div>
        <br>
        <nz-list [nzDataSource]="publicationAccepterList" [nzItemLayout]="'vertical'" [nzRenderItem]="item" [nzPagination]="pagination"  [nzGrid]="{
                    gutter: 16, xs: 24, sm: 12, md: 8,
                    lg: 8, xl: 6, span: 8 }" nzScroll="{ y: '240px' }">
            <ng-template #item let-item>
                <nz-card [nzCover]="coverTemplate" [nzActions]="[actionMonney,
                            actionEdit, actionShopping]">
                    <nz-card-meta [nzTitle]="item.nom" [nzDescription]="item.description" [nzAvatar]="avatarTemplate">
                    </nz-card-meta>
                </nz-card>
                <ng-template #avatarTemplate>
                    <nz-avatar nzSrc="http://localhost:8080/files/{{item.photo}}"></nz-avatar>
                </ng-template>
                <ng-template #coverTemplate>
                    <img height="200" alt="item.nom" src="http://localhost:8080/files/{{item.photo}}" />
                </ng-template>
                <ng-template #actionMonney>
                    <!--  <i nz-icon type="money-collect"></i> -->
                    <strong>{{formatNumber(item.prix)}}$</strong>
                </ng-template>
                <ng-template #actionEdit>
                    <i nz-icon type="edit"></i>
                </ng-template>
                <ng-template #actionShopping>
                    <!--  <i><i nz-icon type="shopping-cart"></i></i> -->
                    <strong>{{item.tBCCV}}%</strong>
                </ng-template>
                <br />
            </ng-template>
            <ng-template #pagination>
                <nz-pagination [nzPageIndex]="1" [nzTotal]="pages" [nzPageSize]="pageSize" (nzPageIndexChange)="gotoLoadDataAccepterPublication($event)"></nz-pagination>
            </ng-template>
        </nz-list>


    </div>
    <div style="background: hsl(0, 0%, 93%);padding:30px;" *ngIf="selectedIndex==2">
        <div class="col-md-6">
            <nz-input-group nzSearch nzSize="small" [nzAddOnAfter]="suffixButton">
                <input type="text" [(ngModel)]="motCle" nz-input placeholder="input search text" />
            </nz-input-group>
            <ng-template #suffixButton>
                <button nz-button nzType="primary" nzSize="small" (click)="rechercher()" nzSearch>Search</button>
            </ng-template>
        </div>
        <nz-list [nzDataSource]="publicationAccepterList" [nzItemLayout]="'vertical'" [nzRenderItem]="item" [nzPagination]="pagination"  [nzGrid]="{
                    gutter: 16, xs: 24, sm: 12, md: 8,
                    lg: 8, xl: 6, span: 8 }" nzScroll="{ y: '240px' }">
            <ng-template #item let-item>
                <nz-card [nzCover]="coverTemplate" [nzActions]="[actionMonney,
                            actionEdit, actionShopping]">
                    <nz-card-meta [nzTitle]="item.nom" [nzDescription]="item.description" [nzAvatar]="avatarTemplate">
                    </nz-card-meta>
                </nz-card>
                <ng-template #avatarTemplate>
                    <nz-avatar nzSrc="http://localhost:8080/files/{{item.photo}}"></nz-avatar>
                </ng-template>
                <ng-template #coverTemplate>
                    <img height="200" alt="item.nom" src="http://localhost:8080/files/{{item.photo}}" />
                </ng-template>
                <ng-template #actionMonney>
                    <!--  <i nz-icon type="money-collect"></i> -->
                    <strong>{{formatNumber(item.prix)}}$</strong>
                </ng-template>
                <ng-template #actionEdit>
                    <i nz-icon type="edit"></i>
                </ng-template>
                <ng-template #actionShopping>
                    <!-- <i><i nz-icon type="shopping-cart"></i></a> -->
                    <strong>{{item.tBCCV}}%</strong>
                </ng-template>
                <br />
            </ng-template>
            <ng-template #pagination>
                <nz-pagination [nzPageIndex]="1" [nzTotal]="pages" [nzPageSize]="pageSize" (nzPageIndexChange)="gotoLoadDataAccepterPublication($event)"></nz-pagination>
            </ng-template>
        </nz-list>


    </div>


    <div style="background: hsl(0, 0%, 93%);padding:30px;" *ngIf="selectedIndex==3">
        <div class="col-md-6">
            <nz-input-group nzSearch nzSize="small" [nzAddOnAfter]="suffixButton">
                <input type="text" [(ngModel)]="motCle" nz-input placeholder="input search text" />
            </nz-input-group>
            <ng-template #suffixButton>
                <button nz-button nzType="primary" nzSize="small" (click)="rechercherDemandeRejet()" nzSearch>Search</button>
            </ng-template>
        </div>
        <br>
        <nz-list [nzDataSource]="publicationRejeterList" [nzItemLayout]="'vertical'" [nzRenderItem]="item" [nzPagination]="pagination"  [nzGrid]="{
                    gutter: 16, xs: 24, sm: 12, md: 8,
                    lg: 8, xl: 6, span: 8 }" nzScroll="{ y: '240px' }">
            <ng-template #item let-item>
                <nz-card [nzCover]="coverTemplate" [nzActions]="[actionMonney,
                            actionEdit, actionShopping]">
                    <nz-card-meta [nzTitle]="item.nom" [nzDescription]="item.description" [nzAvatar]="avatarTemplate">
                    </nz-card-meta>
                </nz-card>
                <ng-template #avatarTemplate>
                    <nz-avatar nzSrc="http://localhost:8080/files/{{item.photo}}"></nz-avatar>
                </ng-template>
                <ng-template #coverTemplate>
                    <img height="200" alt="example" src="http://localhost:8080/files/{{item.photo}}" />
                </ng-template>
                <ng-template #actionMonney>
                    <i nz-icon type="money-collect"></i>
                </ng-template>
                <ng-template #actionEdit>
                    <!--  <i nz-icon type="edit"></i> -->
                    <strong>{{formatNumber(item.prix)}}$</strong>
                </ng-template>
                <ng-template #actionShopping>
                    <strong>{{item.tBCCV}}%</strong>
                    <!--  <i><i nz-icon type="shopping-cart"></i></i> -->
                </ng-template>
                <br />
            </ng-template>
            <ng-template #pagination>
                <nz-pagination [nzPageIndex]="1" [nzTotal]="pages" [nzPageSize]="pageSize" (nzPageIndexChange)="gotoLoadDataDemandeRejet($event)"></nz-pagination>
            </ng-template>
        </nz-list>


    </div>


    <div style="background: hsl(0, 0%, 93%);padding:30px;" *ngIf="selectedIndex==4">
        <div class="col-md-6">
            <nz-input-group nzSearch nzSize="small" [nzAddOnAfter]="suffixButton">
                <input type="text" [(ngModel)]="motCle" nz-input placeholder="input search text" />
            </nz-input-group>
            <ng-template #suffixButton>
                <button nz-button nzType="primary" nzSize="small" (click)="rechercherDemande()" nzSearch>Search</button>
            </ng-template>
        </div>
        <br>
        <nz-list [nzDataSource]="publicationDemandeList" [nzItemLayout]="'vertical'" [nzRenderItem]="item" [nzPagination]="pagination"  [nzGrid]="{
                    gutter: 16, xs: 24, sm: 12, md: 8,
                    lg: 8, xl: 6, span: 8 }" nzScroll="{ y: '240px' }">
            <ng-template #item let-item>
                <nz-card [nzCover]="coverTemplate" [nzActions]="[actionMonney,
                            actionEdit, actionShopping]">
                    <nz-card-meta [nzTitle]="item.nom" [nzDescription]="item.description" [nzAvatar]="avatarTemplate">
                    </nz-card-meta>
                </nz-card>
                <ng-template #avatarTemplate>
                    <nz-avatar nzSrc="http://localhost:8080/files/{{item.photo}}"></nz-avatar>
                </ng-template>
                <ng-template #coverTemplate>
                    <img height="200" alt="example" src="http://localhost:8080/files/{{item.photo}}" />
                </ng-template>
                <ng-template #actionMonney>
                    <i nz-icon type="money-collect"></i>
                </ng-template>
                <ng-template #actionEdit>
                    <!-- <i nz-icon type="edit"></i> -->
                    <strong>{{formatNumber(item.prix)}}$</strong>
                </ng-template>
                <ng-template #actionShopping>
                    <!--  <i><i nz-icon type="shopping-cart"></i></i> -->
                    <strong>{{item.tBCCV}}%</strong>
                </ng-template>
                <br />
            </ng-template>
            <ng-template #pagination>
                <nz-pagination [nzPageIndex]="1" [nzTotal]="pages" [nzPageSize]="pageSize" (nzPageIndexChange)="gotoLoadDataDemandePublication($event)"></nz-pagination>
            </ng-template>
        </nz-list>


    </div>

</nz-card>